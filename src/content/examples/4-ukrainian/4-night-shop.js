// Нічний магазин - 24/7 екзистенційна криза
let visitCount = 0

const game = createGame({
  title:`Нічний магазин
  
  Тут час не має значення
  
  Як і все інше`,
  screenWidth: 13,
	screenHeight: 12,
	player: {
		sprite: `
			..1111..
			.111111.
			11.11.11
			11111111
			.111111.
			..1111..
			..1..1..
			.11..11.
		`,
		position: [1, 8]
	},
	templates: {
		'#': {
			sprite: 2,
			solid: true
		},
    'a': { // вивіска атб
      sprite: `
			..3333..
			.3....3.
			3.3....3
			3.999993
			3.9.9.93
			399.9.93
			.3....3.
			..3333..
			`
    },
		'c': { // cashier касир
			sprite: `
				..3333..
				.333333.
				33.33.33
				33333333
				.333333.
				..3333..
				..3..3..
				.33..33.
			`,
			dialog: 'Вітаю в пеклі.|Це магазин.|Одне й те саме.|А чому ви тут працюєте?|Не працюю. Живу.|В магазині?|Це дешевше за оренду.',
			sound: ['PICKUP', 11111]
		},
		'd': { // drunk п\'яний
			sprite: `
				..4444..
				.444444.
				44.44.44
				44444444
				.444444.
				..4444..
				..4..4..
				.44..44.
			`,
			dialog: '*іккк* Слухай...|Що?|А чого магазин крутиться?|Він не крутиться.|А тоді чого я падаю?|Гравітація.|А-а-а... Зрозуміло.',
			sound: ['BLIP', 22222]
		},
		's': { // security охорона
			sprite: `
				..5555..
				.555555.
				55.55.55
				55555555
				.555555.
				..5555..
				..5..5..
				.55..55.
			`,
			dialog: 'Стій! Документи!|Я просто хліб купую.|А дозвіл на хліб є?|Який дозвіл?|Від ТЦК.|Я дівчина.|А документи дівчини є?',
			sound: ['PICKUP', 33333]
		},
		'w': { // worker робітник
			sprite: `
				..6666..
				.666666.
				66.66.66
				66666666
				.666666.
				..6666..
				..6..6..
				.66..66.
			`,
			dialog: 'Я тут з ранку.|А зараз яка година?|Ранок.|Але ж ніч.|У мене завжди ранок.|Чому?|Бо я не спав 3 дні.',
			sound: ['BLIP', 44444]
		},
		'b': { // bread хліб
			sprite: 7,
			onCollide(target) {
				visitCount++
				if (visitCount < 3) {
					game.openDialog(`Хліб коштує ${visitCount * 100} гривень.|Це нормально.|Інфляція.`)
				} else {
					game.openDialog('Хліб закінчився.|Як завжди.|Приходьте завтра.|Можливо.')
				}
				target.remove()
			},
			sound: ['PICKUP', 55555]
		},
		'm': { // milk молоко
			sprite: 8,
			dialog: 'Молоко прострочене.|На скільки?|На рік.|А чому продаєте?|А хто сказав, що продаємо?|Воно на полиці.|Це декорація.',
			sound: ['BLIP', 66666]
		},
		'r': { // radio радіо
			sprite: 9,
			dialog: '*шум* ...повітряна тривога...|*шум* ...відбій...|*шум* ...повітряна тривога...|А чому воно постійно?|Зламалось.|Коли?|У 2014-му.',
			sound: ['PICKUP', 77777]
		}
	},
	map: `
		############
		#c.........#
		#..d.......#
		#.....s....#
		#..........#
		#.b....m...#
		#..........#
		#w........r#
		#..........#
		#####a######
	`,
	background: 0,
})